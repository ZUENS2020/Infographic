(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[474],{2268:(e,r,t)=>{"use strict";t.d(r,{l6:()=>d});var a=t(7876),n=t(7964),o=t(2766),i=t(5039),l=t.n(i),s=t(4232);function d(e){let r,t,i,s,d,h,g,x,f,y,b,v,k,w,j=(0,n.c)(30);j[0]!==e?({options:s,placeholder:d,itemProps:i,children:r,width:g,className:t,...h}=e,j[0]=e,j[1]=r,j[2]=t,j[3]=i,j[4]=s,j[5]=d,j[6]=h,j[7]=g):(r=j[1],t=j[2],i=j[3],s=j[4],d=j[5],h=j[6],g=j[7]);let N=Array.isArray(s)&&s.length>0;j[8]!==i?(x=null!=i?i:{},j[8]=i,j[9]=x):x=j[9],j[10]!==x?({className:f,...y}=x,j[10]=x,j[11]=f,j[12]=y):(f=j[11],y=j[12]),j[13]!==g?(b=g?{width:g}:void 0,j[13]=g,j[14]=b):b=j[14];let C=b;j[15]!==g?(v=g?{minWidth:"number"==typeof g?"".concat(g,"px"):g}:void 0,j[15]=g,j[16]=v):v=j[16];let S=v;return j[17]!==f||j[18]!==r||j[19]!==t||j[20]!==S||j[21]!==s||j[22]!==d||j[23]!==N||j[24]!==y||j[25]!==C?(k=N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,{className:t,style:C,children:(0,a.jsx)(c,{placeholder:d})}),(0,a.jsx)(p,{style:S,children:null==s?void 0:s.map(e=>{var r,t;return(0,a.jsx)(m,{value:e.value,...y,disabled:null!=(r=e.disabled)?r:y.disabled,className:l()(f,e.className),children:null!=(t=e.label)?t:e.value},e.value)})})]}):r,j[17]=f,j[18]=r,j[19]=t,j[20]=S,j[21]=s,j[22]=d,j[23]=N,j[24]=y,j[25]=C,j[26]=k):k=j[26],j[27]!==h||j[28]!==k?(w=(0,a.jsx)(o.bL,{...h,children:k}),j[27]=h,j[28]=k,j[29]=w):w=j[29],w}let c=o.WT;o.YJ,o.JU;let u=(0,s.forwardRef)(function(e,r){let t,i,s,d,c,u=(0,n.c)(11);return u[0]!==e?({className:i,children:t,...s}=e,u[0]=e,u[1]=t,u[2]=i,u[3]=s):(t=u[1],i=u[2],s=u[3]),u[4]!==i?(d=l()("flex w-full items-center justify-between rounded-xl border border-border dark:border-border-dark bg-wash dark:bg-wash-dark px-4 py-3 text-base outline-none focus-visible:ring-2 focus-visible:ring-link/40 dark:focus-visible:ring-link-dark/40",i),u[4]=i,u[5]=d):d=u[5],u[6]!==t||u[7]!==s||u[8]!==r||u[9]!==d?(c=(0,a.jsx)(o.l9,{ref:r,className:d,...s,children:t}),u[6]=t,u[7]=s,u[8]=r,u[9]=d,u[10]=c):c=u[10],c}),p=(0,s.forwardRef)(function(e,r){let t,i,s,d,c,u,p,m=(0,n.c)(15);m[0]!==e?({className:i,children:t,position:d,...s}=e,m[0]=e,m[1]=t,m[2]=i,m[3]=s,m[4]=d):(t=m[1],i=m[2],s=m[3],d=m[4]);let h=void 0===d?"popper":d;return m[5]!==i?(c=l()("z-50 min-w-[8rem] overflow-hidden rounded-xl border border-border dark:border-border-dark bg-white dark:bg-gray-800 text-sm shadow-xl max-h-[320px]","data-[state=open]:animate-in data-[state=open]:fade-in data-[state=closed]:fade-out",i),m[5]=i,m[6]=c):c=m[6],m[7]!==t?(u=(0,a.jsx)(o.LM,{className:"p-1 max-h-[320px] overflow-y-auto",children:t}),m[7]=t,m[8]=u):u=m[8],m[9]!==h||m[10]!==s||m[11]!==r||m[12]!==c||m[13]!==u?(p=(0,a.jsx)(o.ZL,{children:(0,a.jsx)(o.UC,{ref:r,position:h,className:c,...s,children:u})}),m[9]=h,m[10]=s,m[11]=r,m[12]=c,m[13]=u,m[14]=p):p=m[14],p}),m=(0,s.forwardRef)(function(e,r){let t,i,s,d,c,u,p,m=(0,n.c)(14);return m[0]!==e?({className:i,children:t,...s}=e,m[0]=e,m[1]=t,m[2]=i,m[3]=s):(t=m[1],i=m[2],s=m[3]),m[4]!==i?(d=l()("relative cursor-pointer select-none items-center rounded-lg px-3 py-2 text-base text-primary dark:text-primary-dark outline-none data-[highlighted]:bg-primary/10 data-[highlighted]:text-primary pl-7",i),m[4]=i,m[5]=d):d=m[5],m[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)(o.VF,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3",children:(0,a.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"text-link dark:text-link-dark",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-7.071 7.07a1 1 0 01-1.414 0L3.292 9.85a1 1 0 011.415-1.415l3.101 3.102 6.364-6.364a1 1 0 011.414 0z",clipRule:"evenodd"})})}),m[6]=c):c=m[6],m[7]!==t?(u=(0,a.jsx)(o.p4,{children:t}),m[7]=t,m[8]=u):u=m[8],m[9]!==s||m[10]!==r||m[11]!==d||m[12]!==u?(p=(0,a.jsxs)(o.q7,{ref:r,className:d,...s,children:[c,u]}),m[9]=s,m[10]=r,m[11]=d,m[12]=u,m[13]=p):p=m[13],p})},3455:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>eH});var a=t(7876),n=t(7964),o=t(6805),i=t(6550),l=t(2216),s=t(9099),d=t(4232),c=t(2129),u=t(4272),p=t(2638),m=t(1625);let h={"zh-CN":{historyTitle:"生成记录",configure:"配置服务",clear:"清空对话",shortcut:"⌘/Ctrl + ↵",emptyTitle:"开始你的创作",emptyDescription:"还没有生成记录，使用下方示例或粘贴你的内容开始。",retry:"重试",deleteAria:"删除记录",placeholder:"提供你的数据，我会帮你生成信息图",helper:"明确图表类型、数据来源、配色/风格，会生成得更准",send:"生成信息图",sending:"生成中...",apiKeyError:"生成失败，请检查 API Key 或网络连接"},"en-US":{historyTitle:"Generation History",configure:"Configure Service",clear:"Clear Conversation",shortcut:"⌘/Ctrl + ↵",emptyTitle:"Start creating",emptyDescription:"No generations yet. Use the examples below or paste your content to get started.",retry:"Retry",deleteAria:"Delete record",placeholder:"Provide your data and I will create an infographic for you",helper:"Specify chart types, data sources, and palette/style to get better results",send:"Generate",sending:"Generating...",apiKeyError:"Generation failed, please check your API key or network connection"}};function g(e){let r,t,o,i,s,u,g,x,f,y,b,v,k,w,j,N,C,S,I,_,P,O,A,E,L,R,D,U,K,M,T=(0,n.c)(88),{prompt:z,onPromptChange:q,onSend:F,isGenerating:B,textareaRef:G,history:W,onSelectHistory:J,onRetry:V,onDelete:H,onOpenConfig:Z,onClear:$,examples:X,panelClassName:Y}=e,Q=(0,d.useRef)(null),[ee,er]=(0,d.useState)(null),et=(0,c.K)(h);T[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{Q.current&&(Q.current.scrollTop=Q.current.scrollHeight)},T[0]=r):r=T[0],T[1]!==W.length?(t=[W.length],T[1]=W.length,T[2]=t):t=T[2],(0,d.useEffect)(r,t),T[3]!==J?(o=(e,r,t,a)=>{er(r=>r===e?null:e),!a&&(r||t)&&J(r,t)},T[3]=J,T[4]=o):o=T[4];let ea=o;T[5]===Symbol.for("react.memo_cache_sentinel")?(i={opacity:0,y:24},s={opacity:1,y:0},u={duration:.45,ease:"easeOut"},T[5]=i,T[6]=s,T[7]=u):(i=T[5],s=T[6],u=T[7]);let en="rounded-2xl border border-border dark:border-border-dark bg-card dark:bg-card-dark shadow-nav dark:shadow-nav-dark p-5 lg:p-6 flex flex-col overflow-visible ".concat(void 0===Y?"min-h-[520px] h-[640px] max-h-[75vh]":Y);if(T[8]!==et.historyTitle?(g=(0,a.jsx)("p",{className:"text-base font-semibold text-primary dark:text-primary-dark",children:et.historyTitle}),T[8]=et.historyTitle,T[9]=g):g=T[9],T[10]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsxs)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),T[10]=x):x=T[10],T[11]!==et.configure||T[12]!==Z?(f=(0,a.jsxs)("button",{type:"button",onClick:Z,className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full border border-border dark:border-border-dark bg-wash dark:bg-wash-dark text-xs font-medium text-primary dark:text-primary-dark hover:border-link hover:text-link dark:hover:border-link-dark dark:hover:text-link-dark transition-colors",children:[x,et.configure]}),T[11]=et.configure,T[12]=Z,T[13]=f):f=T[13],T[14]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),T[14]=y):y=T[14],T[15]!==et.clear||T[16]!==$?(b=(0,a.jsxs)("button",{type:"button",onClick:$,className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full border border-border dark:border-border-dark bg-wash dark:bg-wash-dark text-xs font-medium text-primary dark:text-primary-dark hover:border-link hover:text-link dark:hover:border-link-dark dark:hover:text-link-dark transition-colors",children:[y,et.clear]}),T[15]=et.clear,T[16]=$,T[17]=b):b=T[17],T[18]!==et.shortcut?(v=(0,a.jsx)("span",{className:"text-xs text-tertiary dark:text-tertiary-dark bg-wash dark:bg-wash-dark px-3 py-1 rounded-full font-medium",children:et.shortcut}),T[18]=et.shortcut,T[19]=v):v=T[19],T[20]!==f||T[21]!==b||T[22]!==v?(k=(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[f,b,v]}),T[20]=f,T[21]=b,T[22]=v,T[23]=k):k=T[23],T[24]!==k||T[25]!==g?(w=(0,a.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-4",children:[g,k]}),T[24]=k,T[25]=g,T[26]=w):w=T[26],T[27]!==et.apiKeyError||T[28]!==et.deleteAria||T[29]!==et.emptyDescription||T[30]!==et.emptyTitle||T[31]!==et.retry||T[32]!==ee||T[33]!==ea||T[34]!==W||T[35]!==B||T[36]!==H||T[37]!==V?(j=(0,a.jsx)(m.Bc,{delayDuration:150,children:(0,a.jsx)("div",{ref:Q,className:"flex-1 overflow-y-auto pr-1 py-1 mb-4 scrollbar-thin scrollbar-thumb-gray-20 dark:scrollbar-thumb-gray-60 scrollbar-track-transparent",children:0===W.length?(0,a.jsx)("div",{className:"rounded-xl border border-dashed border-gray-20 dark:border-gray-60 bg-gradient-to-br from-gray-5 to-transparent dark:from-gray-80 dark:to-transparent p-6 text-sm text-secondary dark:text-secondary-dark",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-link/10 to-link/5 dark:from-link-dark/10 dark:to-link-dark/5 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-link dark:text-link-dark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-primary dark:text-primary-dark mb-1.5 text-base",children:et.emptyTitle}),(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:et.emptyDescription})]})]})}):(0,a.jsx)("div",{className:"space-y-4 pr-1",children:W.map(e=>{let r="error"===e.status,t=B&&"pending"!==e.status||"pending"===e.status||!e.syntax&&!e.config&&!r,n="error"===e.status,o=ee===e.id,i=e.error||et.apiKeyError,l=()=>{r||t||ea(e.id,e.syntax,e.config,t)};return(0,a.jsx)("div",{role:"button",tabIndex:t||r?-1:0,"aria-disabled":t||r,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||t||(e.preventDefault(),l())},onClick:l,className:"group relative w-full rounded-2xl border text-left transition-all duration-300 ease-out ".concat(n?"px-3 py-3":"px-4 py-4"," ").concat(t||r?"border-border dark:border-border-dark bg-card dark:bg-card-dark opacity-60 cursor-not-allowed":o?"border-link/70 dark:border-link-dark/60 bg-wash dark:bg-wash-dark shadow-[0_18px_45px_-30px_rgba(22,35,70,0.32),0_12px_32px_-22px_rgba(77,116,202,0.55),0_0_0_1px_rgba(255,255,255,0.35)] dark:shadow-[0_18px_48px_-30px_rgba(0,0,0,0.55),0_12px_32px_-22px_rgba(120,150,220,0.5),0_0_0_1px_rgba(255,255,255,0.06)] -translate-y-0.5 cursor-pointer":"border-border dark:border-border-dark bg-wash dark:bg-wash-dark hover:border-link/40 dark:hover:border-link-dark/50 cursor-pointer"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("div",{className:"overflow-hidden transition-[max-height] duration-200 ease-in-out ".concat(o?"max-h-[260px]":"max-h-[24px]"),children:(0,a.jsx)("p",{className:"text-[13px] leading-relaxed text-secondary dark:text-secondary-dark ".concat(o?"":"line-clamp-1"),children:e.text})})}),(0,a.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-2 self-center",children:["pending"===e.status&&(0,a.jsxs)("svg",{className:"w-4 h-4 text-tertiary dark:text-tertiary-dark animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"3"}),(0,a.jsx)("path",{className:"opacity-80",fill:"currentColor",d:"M12 3a9 9 0 00-9 9h3a6 6 0 016-6V3z"})]}),n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:r=>{r.stopPropagation(),V(e.id,e.text)},type:"button",className:"inline-flex items-center justify-center h-7 px-2 text-[11px] font-semibold text-red-500 dark:text-red-400 hover:underline",children:et.retry}),(0,a.jsxs)(m.m_,{children:[(0,a.jsx)(m.k$,{asChild:!0,children:(0,a.jsx)("span",{className:"inline-flex",children:(0,a.jsx)(p.k,{className:"w-4 h-4 text-red-500 dark:text-red-400"})})}),(0,a.jsx)(m.ZI,{side:"top",align:"end",children:(0,a.jsx)("div",{className:"whitespace-pre-wrap break-words text-xs leading-relaxed max-w-xs",children:i})})]}),(0,a.jsx)("button",{onClick:r=>{r.stopPropagation(),H(e.id)},type:"button","aria-label":et.deleteAria,className:"inline-flex items-center justify-center h-8 w-8 text-tertiary dark:text-tertiary-dark hover:text-primary dark:hover:text-primary-dark transition-colors",children:(0,a.jsxs)("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M6 6l12 12"}),(0,a.jsx)("path",{d:"M6 18L18 6"})]})})]}):!t&&(0,a.jsx)("svg",{className:"w-4 h-4 text-link dark:text-link-dark transition-all duration-200 group-hover:translate-x-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},e.id)})})})}),T[27]=et.apiKeyError,T[28]=et.deleteAria,T[29]=et.emptyDescription,T[30]=et.emptyTitle,T[31]=et.retry,T[32]=ee,T[33]=ea,T[34]=W,T[35]=B,T[36]=H,T[37]=V,T[38]=j):j=T[38],T[39]!==X||T[40]!==q||T[41]!==G.current){let e;T[43]!==q||T[44]!==G.current?(e=e=>(0,a.jsx)("button",{onClick:()=>{var r;q(e.text),null==(r=G.current)||r.focus()},className:"group text-left rounded-lg border border-border dark:border-border-dark bg-wash dark:bg-wash-dark px-3.5 py-3 hover:border-link dark:hover:border-link-dark hover:bg-gradient-to-br hover:from-link/5 hover:to-transparent dark:hover:from-link-dark/5 dark:hover:to-transparent transition-all duration-200 hover:shadow-sm active:scale-[0.98]",children:(0,a.jsx)("div",{className:"flex items-start gap-2",children:(0,a.jsx)("span",{className:"text-[13px] leading-relaxed line-clamp-2 group-hover:line-clamp-3 transition-all duration-200",children:e.title})})},e.title),T[43]=q,T[44]=G.current,T[45]=e):e=T[45],N=X.map(e),T[39]=X,T[40]=q,T[41]=G.current,T[42]=N}else N=T[42];return T[46]!==N?(C=(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:N}),T[46]=N,T[47]=C):C=T[47],T[48]!==q?(S=e=>q(e.target.value),T[48]=q,T[49]=S):S=T[49],T[50]!==F?(I=e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),F())},T[50]=F,T[51]=I):I=T[51],T[52]!==et.placeholder||T[53]!==z||T[54]!==S||T[55]!==I||T[56]!==G?(_=(0,a.jsx)("textarea",{ref:G,value:z,onChange:S,onKeyDown:I,rows:4,placeholder:et.placeholder,className:"w-full bg-transparent outline-none resize-none text-[15px] leading-relaxed text-primary dark:text-primary-dark placeholder:text-tertiary dark:placeholder:text-tertiary-dark py-3.5 px-4"}),T[52]=et.placeholder,T[53]=z,T[54]=S,T[55]=I,T[56]=G,T[57]=_):_=T[57],T[58]===Symbol.for("react.memo_cache_sentinel")?(P=(0,a.jsx)("svg",{className:"w-3.5 h-3.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),T[58]=P):P=T[58],T[59]!==et.helper?(O=(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-tertiary dark:text-tertiary-dark sm:max-w-[65%]",children:[P,(0,a.jsx)("span",{className:"leading-tight select-none",children:et.helper})]}),T[59]=et.helper,T[60]=O):O=T[60],T[61]!==F?(A=()=>F(),T[61]=F,T[62]=A):A=T[62],T[63]!==B||T[64]!==z?(E=B||!z.trim(),T[63]=B,T[64]=z,T[65]=E):E=T[65],T[66]!==et.send||T[67]!==et.sending||T[68]!==B?(L=B?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),et.sending]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),et.send]}),T[66]=et.send,T[67]=et.sending,T[68]=B,T[69]=L):L=T[69],T[70]!==A||T[71]!==E||T[72]!==L?(R=(0,a.jsx)("button",{onClick:A,disabled:E,className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-to-r from-link to-link/90 dark:from-link-dark dark:to-link-dark/90 text-white hover:from-link/90 hover:to-link/80 dark:hover:from-link-dark/90 dark:hover:to-link-dark/80 text-[13px] font-semibold disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-link/25 dark:shadow-link-dark/25 active:scale-[.97] transition-all duration-200 disabled:active:scale-100 w-full sm:w-auto justify-center whitespace-nowrap",children:L}),T[70]=A,T[71]=E,T[72]=L,T[73]=R):R=T[73],T[74]!==O||T[75]!==R?(D=(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between px-4 pb-3.5 pt-0",children:[O,R]}),T[74]=O,T[75]=R,T[76]=D):D=T[76],T[77]!==_||T[78]!==D?(U=(0,a.jsxs)("div",{className:"relative rounded-xl border border-border dark:border-border-dark bg-card dark:bg-card-dark focus-within:ring-2 focus-within:ring-link/30 dark:focus-within:ring-link-dark/30 focus-within:border-link dark:focus-within:border-link-dark transition-all shadow-sm overflow-hidden",children:[_,D]}),T[77]=_,T[78]=D,T[79]=U):U=T[79],T[80]!==C||T[81]!==U?(K=(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[C,U]}),T[80]=C,T[81]=U,T[82]=K):K=T[82],T[83]!==w||T[84]!==j||T[85]!==K||T[86]!==en?(M=(0,a.jsxs)(l.P.div,{layout:!0,initial:i,animate:s,transition:u,className:en,children:[w,j,K]}),T[83]=w,T[84]=j,T[85]=K,T[86]=en,T[87]=M):M=T[87],M}var x=t(4587),f=t.n(x),y=t(3716),b=t(714),v=t(1844),k=t(294),w=t(8162),j=t(3520),N=t(870),C=t(1893),S=t(6822),I=t(6326),_=t(2658),P=t(2634),O=t(4769),A=t(2987),E="Dialog",[L,R]=(0,v.A)(E),[D,U]=L(E),K=e=>{let{__scopeDialog:r,children:t,open:n,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,s=d.useRef(null),c=d.useRef(null),[u,p]=(0,w.i)({prop:n,defaultProp:o??!1,onChange:i,caller:E});return(0,a.jsx)(D,{scope:r,triggerRef:s,contentRef:c,contentId:(0,k.B)(),titleId:(0,k.B)(),descriptionId:(0,k.B)(),open:u,onOpenChange:p,onOpenToggle:d.useCallback(()=>p(e=>!e),[p]),modal:l,children:t})};K.displayName=E;var M="DialogTrigger";d.forwardRef((e,r)=>{let{__scopeDialog:t,...n}=e,o=U(M,t),i=(0,b.s)(r,o.triggerRef);return(0,a.jsx)(I.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":et(o.open),...n,ref:i,onClick:(0,y.mK)(e.onClick,o.onOpenToggle)})}).displayName=M;var T="DialogPortal",[z,q]=L(T,{forceMount:void 0}),F=e=>{let{__scopeDialog:r,forceMount:t,children:n,container:o}=e,i=U(T,r);return(0,a.jsx)(z,{scope:r,forceMount:t,children:d.Children.map(n,e=>(0,a.jsx)(S.C,{present:t||i.open,children:(0,a.jsx)(C.Z,{asChild:!0,container:o,children:e})}))})};F.displayName=T;var B="DialogOverlay",G=d.forwardRef((e,r)=>{let t=q(B,e.__scopeDialog),{forceMount:n=t.forceMount,...o}=e,i=U(B,e.__scopeDialog);return i.modal?(0,a.jsx)(S.C,{present:n||i.open,children:(0,a.jsx)(J,{...o,ref:r})}):null});G.displayName=B;var W=(0,A.TL)("DialogOverlay.RemoveScroll"),J=d.forwardRef((e,r)=>{let{__scopeDialog:t,...n}=e,o=U(B,t);return(0,a.jsx)(P.A,{as:W,allowPinchZoom:!0,shards:[o.contentRef],children:(0,a.jsx)(I.sG.div,{"data-state":et(o.open),...n,ref:r,style:{pointerEvents:"auto",...n.style}})})}),V="DialogContent",H=d.forwardRef((e,r)=>{let t=q(V,e.__scopeDialog),{forceMount:n=t.forceMount,...o}=e,i=U(V,e.__scopeDialog);return(0,a.jsx)(S.C,{present:n||i.open,children:i.modal?(0,a.jsx)(Z,{...o,ref:r}):(0,a.jsx)($,{...o,ref:r})})});H.displayName=V;var Z=d.forwardRef((e,r)=>{let t=U(V,e.__scopeDialog),n=d.useRef(null),o=(0,b.s)(r,t.contentRef,n);return d.useEffect(()=>{let e=n.current;if(e)return(0,O.Eq)(e)},[]),(0,a.jsx)(X,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,y.mK)(e.onCloseAutoFocus,e=>{e.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:(0,y.mK)(e.onPointerDownOutside,e=>{let r=e.detail.originalEvent,t=0===r.button&&!0===r.ctrlKey;(2===r.button||t)&&e.preventDefault()}),onFocusOutside:(0,y.mK)(e.onFocusOutside,e=>e.preventDefault())})}),$=d.forwardRef((e,r)=>{let t=U(V,e.__scopeDialog),n=d.useRef(!1),o=d.useRef(!1);return(0,a.jsx)(X,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{e.onCloseAutoFocus?.(r),r.defaultPrevented||(n.current||t.triggerRef.current?.focus(),r.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:r=>{e.onInteractOutside?.(r),r.defaultPrevented||(n.current=!0,"pointerdown"===r.detail.originalEvent.type&&(o.current=!0));let a=r.target;t.triggerRef.current?.contains(a)&&r.preventDefault(),"focusin"===r.detail.originalEvent.type&&o.current&&r.preventDefault()}})}),X=d.forwardRef((e,r)=>{let{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,s=U(V,t),c=d.useRef(null),u=(0,b.s)(r,c);return(0,_.Oh)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.n,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,a.jsx)(j.qW,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":et(s.open),...l,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei,{titleId:s.titleId}),(0,a.jsx)(el,{contentRef:c,descriptionId:s.descriptionId})]})]})}),Y="DialogTitle",Q=d.forwardRef((e,r)=>{let{__scopeDialog:t,...n}=e,o=U(Y,t);return(0,a.jsx)(I.sG.h2,{id:o.titleId,...n,ref:r})});Q.displayName=Y;var ee="DialogDescription";d.forwardRef((e,r)=>{let{__scopeDialog:t,...n}=e,o=U(ee,t);return(0,a.jsx)(I.sG.p,{id:o.descriptionId,...n,ref:r})}).displayName=ee;var er="DialogClose";function et(e){return e?"open":"closed"}d.forwardRef((e,r)=>{let{__scopeDialog:t,...n}=e,o=U(er,t);return(0,a.jsx)(I.sG.button,{type:"button",...n,ref:r,onClick:(0,y.mK)(e.onClick,()=>o.onOpenChange(!1))})}).displayName=er;var ea="DialogTitleWarning",[en,eo]=(0,v.q)(ea,{contentName:V,titleName:Y,docsSlug:"dialog"}),ei=({titleId:e})=>{let r=eo(ea),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},el=({contentRef:e,descriptionId:r})=>{let t=eo("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return d.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");r&&t&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},es=t(5039),ed=t.n(es);let ec=(0,d.forwardRef)(function(e,r){let t,o,i,l,s=(0,n.c)(9);return s[0]!==e?({className:t,...o}=e,s[0]=e,s[1]=t,s[2]=o):(t=s[1],o=s[2]),s[3]!==t?(i=ed()("fixed inset-0 z-50 bg-black/45 backdrop-blur-sm transition-opacity data-[state=open]:opacity-100 data-[state=closed]:opacity-0",t),s[3]=t,s[4]=i):i=s[4],s[5]!==o||s[6]!==r||s[7]!==i?(l=(0,a.jsx)(G,{ref:r,className:i,...o}),s[5]=o,s[6]=r,s[7]=i,s[8]=l):l=s[8],l}),eu=(0,d.forwardRef)(function(e,r){let t,o,i,l,s,d,c,u,p=(0,n.c)(16);return p[0]!==e?({className:t,containerClassName:o,...i}=e,p[0]=e,p[1]=t,p[2]=o,p[3]=i):(t=p[1],o=p[2],i=p[3]),p[4]!==o?(l=ed()("fixed inset-0 z-50 flex items-center justify-center p-6",o),p[4]=o,p[5]=l):l=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(ec,{}),p[6]=s):s=p[6],p[7]!==t?(d=ed()("relative z-50 w-full max-w-xl rounded-2xl border border-border dark:border-border-dark bg-white dark:bg-gray-900 shadow-2xl","transition-transform transition-opacity duration-200 data-[state=closed]:opacity-0 data-[state=open]:opacity-100",t),p[7]=t,p[8]=d):d=p[8],p[9]!==i||p[10]!==r||p[11]!==d?(c=(0,a.jsx)(H,{ref:r,className:d,...i}),p[9]=i,p[10]=r,p[11]=d,p[12]=c):c=p[12],p[13]!==l||p[14]!==c?(u=(0,a.jsx)(F,{children:(0,a.jsxs)("div",{className:l,children:[s,c]})}),p[13]=l,p[14]=c,p[15]=u):u=p[15],u});var ep=t(2268);let em={config:"ai-demo-config",messages:"ai-demo-messages",infographic:"ai-demo-infographic"},eh={provider:"antv",baseUrl:"",model:"",apiKey:""},eg=[{value:"antv",label:"AntV",baseUrl:"",logo:"/images/antv.svg"},{value:"openai",label:"OpenAI",baseUrl:"https://api.openai.com/v1",logo:"/images/openai.svg"},{value:"anthropic",label:"Anthropic",baseUrl:"https://api.anthropic.com/v1",logo:"/images/claude.svg"},{value:"google",label:"Google",baseUrl:"https://generativelanguage.googleapis.com/v1",logo:"/images/gemini.svg"},{value:"xai",label:"xAI",baseUrl:"https://api.x.ai/v1",logo:"/images/xai.svg"},{value:"deepseek",label:"DeepSeek",baseUrl:"https://api.deepseek.com/v1",logo:"/images/deepseek.svg"},{value:"qwen",label:"Qwen",baseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",logo:"/images/qwen.svg"}];function ex(e){try{return JSON.stringify(e,null,2)}catch(e){return""}}let ef=e=>{var r,t;return String.fromCharCode(...(null!=(t=null==(r=e.match(/\d{3}/g))?void 0:r.map(Number))?t:[]).map((e,r)=>e^17+r%5))},ey={endpoint:ef("121102103100102043061060099112115117100057124127102118102123116102061117121120098114109059114125126059116127102101103112099100122119112062115099125058117097127"),headers:{[ef("105063100113119118101062098112099097122123123")]:ef("035060035"),[ef("105063100113119118101062117101097123119")]:ef("032042035036039033034034036037033035033034035041037038"),[ef("082125125096112127102062064108097119")]:ef("112098099120124114115103125122127061121103122127")},scene:ef("101112124108074112117118122097"),appId:ef("035034033033036032083067118087101066035036032039042039035045")};async function eb(e,r,t){let a=r.replace(/\/$/,"");try{switch(e){case"openai":case"deepseek":case"xai":case"qwen":return eN(a,t);case"anthropic":return eS(a,t);case"google":return e_(a,t);default:return[]}}catch(e){return console.warn("Fetch models failed:",e),[]}}async function ev(e,r,t,a,n){try{if("antv"===e.provider||!e.apiKey){let e=await ew(r);e?(t(e),a()):n(Error("Failed to get response"));return}let o=await ek(e,r,!0);if(!o)return void n(Error("Failed to get streaming response"));let i=o.getReader(),l=new TextDecoder,s="";for(;;){let{done:r,value:n}=await i.read();if(r){a();break}let o=(s+=l.decode(n,{stream:!0})).split("\n");for(let r of(s=o.pop()||"",o)){if(!r.startsWith("data: "))continue;let a=r.slice(6);if("[DONE]"!==a)try{let r=JSON.parse(a),n=function(e,r){var t,a,n,o,i,l,s,d,c;switch(e){case"openai":case"deepseek":case"xai":case"qwen":return(null==(n=r.choices)||null==(a=n[0])||null==(t=a.delta)?void 0:t.content)||"";case"anthropic":if("content_block_delta"===r.type)return(null==(o=r.delta)?void 0:o.text)||"";return"";case"google":return(null==(c=r.candidates)||null==(d=c[0])||null==(s=d.content)||null==(l=s.parts)||null==(i=l[0])?void 0:i.text)||"";default:return""}}(e.provider,r);n&&t(n)}catch(e){}}}}catch(e){console.error("Send message stream failed:",e),n(e instanceof Error?e:Error("Failed to get streaming response"))}}async function ek(e,r){let t=!(arguments.length>2)||void 0===arguments[2]||arguments[2];try{let{provider:a,baseURL:n,apiKey:o,model:i}=e,l=eP(r);switch(a){case"openai":case"deepseek":case"xai":case"qwen":return ej(n,o,i,l,t);case"anthropic":return eC(n,o,i,l,t);case"google":return eI(n,o,i,l,t);default:return null}}catch(e){return console.warn("Call AI failed:",e),null}}async function ew(e){try{let r=eP(e).map(e=>"".concat(e.role,": ").concat(e.content)).join("\n\n"),t=await fetch(ey.endpoint,{method:"POST",headers:ey.headers,body:JSON.stringify({sceneName:ey.scene,data:{appId:ey.appId,input:r}})});if(!t.ok)return null;let a=await t.json();if(!(null==a?void 0:a.success))return null;return"string"==typeof a.data?a.data:null}catch(e){return console.warn("Fallback call failed:",e),null}}async function ej(e,r,t,a,n){try{var o,i,l;let s=await fetch("".concat(e,"/chat/completions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({model:t,messages:a,stream:n})});if(!s.ok)return null;if(n)return s.body;return(null==(l=(await s.json()).choices)||null==(i=l[0])||null==(o=i.message)?void 0:o.content)||""}catch(e){return console.warn("OpenAI compatible call failed:",e),null}}async function eN(e,r){try{let t=await fetch("".concat(e,"/models"),{headers:{Authorization:"Bearer ".concat(r)}});if(!t.ok)return[];let a=await t.json();return(Array.isArray(null==a?void 0:a.data)?a.data:[]).map(e=>null==e?void 0:e.id).filter(e=>"string"==typeof e)}catch(e){return console.warn("OpenAI models fetch failed:",e),[]}}async function eC(e,r,t,a,n){try{var o,i;let l=a.find(e=>"system"===e.role),s=a.filter(e=>"system"!==e.role),d=await fetch("".concat(e,"/messages"),{method:"POST",headers:{"Content-Type":"application/json","x-api-key":r,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:t,messages:s,system:null==l?void 0:l.content,stream:n,max_tokens:4096})});if(!d.ok)return null;if(n)return d.body;return(null==(i=(await d.json()).content)||null==(o=i[0])?void 0:o.text)||""}catch(e){return console.warn("Anthropic call failed:",e),null}}async function eS(e,r){try{let t=await fetch("".concat(e,"/models"),{headers:{"x-api-key":r,"anthropic-version":"2023-06-01"}});if(!t.ok)return[];let a=await t.json();return(Array.isArray(null==a?void 0:a.data)?a.data:Array.isArray(null==a?void 0:a.models)?a.models:[]).map(e=>null==e?void 0:e.id).filter(e=>"string"==typeof e)}catch(e){return console.warn("Anthropic models fetch failed:",e),[]}}async function eI(e,r,t,a,n){try{var o,i,l,s,d,c;let u=a.filter(e=>"system"!==e.role).map(e=>({role:"assistant"===e.role?"model":"user",parts:[{text:e.content}]})),p=null==(o=a.find(e=>"system"===e.role))?void 0:o.content,m=await fetch("".concat(e,"/models/").concat(t,":").concat(n?"streamGenerateContent":"generateContent"),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-key":r},body:JSON.stringify({contents:u,systemInstruction:p?{parts:[{text:p}]}:void 0})});if(!m.ok)return null;if(n)return m.body;return(null==(c=(await m.json()).candidates)||null==(d=c[0])||null==(s=d.content)||null==(l=s.parts)||null==(i=l[0])?void 0:i.text)||""}catch(e){return console.warn("Google call failed:",e),null}}async function e_(e,r){let t=e.includes("?")?"&":"?";try{let a=await fetch("".concat(e,"/models").concat(t,"key=").concat(r));if(!a.ok)return[];let n=await a.json();return(Array.isArray(null==n?void 0:n.models)?n.models:[]).map(e=>{let r=null==e?void 0:e.name;if("string"!=typeof r)return null;let t=r.split("/");return t[t.length-1]||r}).filter(e=>"string"==typeof e)}catch(e){return console.warn("Google models fetch failed:",e),[]}}function eP(e){return[{role:"system",content:"\n## 角色说明\n\n你是一个专业的信息图生成助手，熟悉 AntV Infographic 语法（形如 Mermaid 的文本语法）。当用户给出内容或需求时，你需要：\n1. 提炼关键信息结构（标题、描述、条目、层级、指标等）\n2. 结合语义选择合适的模板（template）与主题\n3. 将内容用规范的 Infographic 语法描述，方便实时流式渲染\n\n## 输出格式\n\n始终使用纯语法文本，外层包裹 ```plain 代码块，不得输出解释性文字。语法结构示例：\n\n```plain\ninfographic list-row-horizontal-icon-arrow\ndata\n  title 标题\n  desc 描述\n  items\n    - label 条目\n      value 12.5\n      desc 说明\n      icon mdi/rocket-launch\ntheme\n  palette #3b82f6 #8b5cf6 #f97316\n```\n\n## 语法要点\n\n- 第一行以 `infographic <template-name>` 开头，模板从下方列表中选择\n- 使用 block 描述 data / theme，层级通过两个空格缩进\n- 键值对使用「键 值」形式，数组通过 `-` 分项\n- icon 值直接提供关键词或图标名（如 `mdi/chart-line`）\n- data 应包含 title/desc/items（根据语义可省略不必要字段）\n- data.items 可包含 label(string)/value(number)/desc(string)/icon(string)/children(object) 等字段，children 表示层级结构\n- 对比类模板（名称以 `compare-` 开头）应构建两个根节点，所有对比项作为这两个根节点的 children，确保结构清晰\n- 可以添加 theme 来切换色板或深浅色；\n- 严禁输出 JSON、Markdown、解释或额外文本\n\n## 模板 (template)\n\n- sequence-zigzag-steps-underline-text\n- sequence-horizontal-zigzag-underline-text\n- sequence-circular-simple\n- sequence-filter-mesh-simple\n- sequence-mountain-underline-text\n- sequence-cylinders-3d-simple\n- compare-binary-horizontal-simple-fold\n- compare-hierarchy-left-right-circle-node-pill-badge\n- quadrant-quarter-simple-card\n- quadrant-quarter-circular\n- list-grid-badge-card\n- list-grid-candy-card-lite\n- list-grid-ribbon-card\n- list-row-horizontal-icon-arrow\n- relation-circle-icon-badge\n- sequence-ascending-steps\n- compare-swot\n- sequence-color-snake-steps-horizontal-icon-line\n- sequence-pyramid-simple\n- list-sector-plain-text\n- sequence-roadmap-vertical-simple\n- sequence-zigzag-pucks-3d-simple\n- sequence-ascending-stairs-3d-underline-text\n- compare-binary-horizontal-badge-card-arrow\n- compare-binary-horizontal-underline-text-vs\n- hierarchy-tree-tech-style-capsule-item\n- hierarchy-tree-curved-line-rounded-rect-node\n- hierarchy-tree-tech-style-badge-card\n- chart-column-simple\n- chart-bar-plain-text\n- chart-line-plain-text\n- chart-pie-plain-text\n- chart-pie-compact-card\n- chart-pie-donut-plain-text\n- chart-pie-donut-pill-badge\n\n## 注意事项\n\n- 输出必须符合语法规范与缩进规则，方便模型流式输出\n- 结合用户输入给出结构化 data，勿编造无关内容\n- 如用户指定风格/色彩/语气，可在 theme 中体现\n- 若信息不足，可合理假设补全，但要保持连贯与可信\n"},...e]}let eO={"zh-CN":{title:"配置模型服务",provider:"提供商",providerPlaceholder:"选择提供商",presetNotice:"正在使用 AntV 内置服务，无需额外配置。",baseUrl:"Base URL",apiKey:"API Key",model:"模型",modelPlaceholder:"选择模型",customOption:"自定义",fetchingModels:"正在获取模型列表…",save:"保存配置",reset:"重置",cancel:"取消"},"en-US":{title:"Configure Model Service",provider:"Provider",providerPlaceholder:"Select a provider",presetNotice:"Using AntV built-in service, no setup required.",baseUrl:"Base URL",apiKey:"API Key",model:"Model",modelPlaceholder:"Select a model",customOption:"Custom",fetchingModels:"Fetching model list…",save:"Save",reset:"Reset",cancel:"Cancel"}};function eA(e){let r,t,o,i,l,s,u,p,m,h,g,x,f,y,b,v,k,w,j,N,C,S,I,_=(0,n.c)(72),{open:P,onClose:O,value:A,savedConfigs:E,onSave:L}=e,[R,D]=(0,d.useState)(A);_[0]!==R.model?(r=R.model?[R.model]:[],_[0]=R.model,_[1]=r):r=_[1];let[U,M]=(0,d.useState)(r),[T,z]=(0,d.useState)(!1),q="antv"===R.provider,F=(0,c.K)(eO);_[2]!==E?(t=e=>{let r=eg.find(r=>r.value===e);if(!r)return;let t=E[e],a=t&&t.baseUrl||r.baseUrl||"",n=t&&t.provider===e?{...t,baseUrl:a}:{provider:e,baseUrl:a,model:"",apiKey:""};D(n),M(n.model?[n.model]:[])},_[2]=E,_[3]=t):t=_[3];let B=t;_[4]!==P||_[5]!==A?(o=()=>{var e,r;if(!P)return;let t=(null==(e=eg.find(e=>e.value===A.provider))?void 0:e.value)||(null==(r=eg[0])?void 0:r.value)||eh.provider,a=eg.find(e=>e.value===t);D({provider:t,baseUrl:A.baseUrl||(null==a?void 0:a.baseUrl)||eh.baseUrl,model:A.model,apiKey:A.apiKey}),M(A.model?[A.model]:[])},i=[P,A],_[4]=P,_[5]=A,_[6]=o,_[7]=i):(o=_[6],i=_[7]),(0,d.useEffect)(o,i),_[8]!==R.apiKey||_[9]!==R.baseUrl||_[10]!==R.model||_[11]!==R.provider||_[12]!==q||_[13]!==P?(l=()=>{let e;if(P){if(q||!R.baseUrl||!R.apiKey){M(R.model?[R.model]:[]),z(!1);return}return e=!1,(async()=>{z(!0);let r=await eb(R.provider,R.baseUrl,R.apiKey);if(e)return;let t=R.model?[R.model]:[],a=r.length?r:t;M(a),!a.includes(R.model)&&a.length&&D(e=>({...e,model:a[0]})),z(!1)})(),()=>{e=!0}}},s=[R.provider,R.baseUrl,R.apiKey,P,R.model,q],_[8]=R.apiKey,_[9]=R.baseUrl,_[10]=R.model,_[11]=R.provider,_[12]=q,_[13]=P,_[14]=l,_[15]=s):(l=_[14],s=_[15]),(0,d.useEffect)(l,s),_[16]!==O?(u=e=>!e&&O(),_[16]=O,_[17]=u):u=_[17],_[18]!==F.title?(p=(0,a.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)(Q,{className:"text-2xl font-bold text-primary dark:text-primary-dark",children:F.title})})}),_[18]=F.title,_[19]=p):p=_[19],_[20]!==F.provider?(m=(0,a.jsx)("label",{className:"block text-sm font-semibold",children:F.provider}),_[20]=F.provider,_[21]=m):m=_[21];let G=R.provider;if(_[22]!==F.providerPlaceholder||_[23]!==R.provider){var W;h=(null==(W=eg.find(e=>e.value===R.provider))?void 0:W.label)||F.providerPlaceholder,_[22]=F.providerPlaceholder,_[23]=R.provider,_[24]=h}else h=_[24];return _[25]===Symbol.for("react.memo_cache_sentinel")?(g=eg.map(eL),_[25]=g):g=_[25],_[26]!==R.provider||_[27]!==B||_[28]!==h?(x=(0,a.jsx)(ep.l6,{value:G,onValueChange:B,placeholder:h,options:g}),_[26]=R.provider,_[27]=B,_[28]=h,_[29]=x):x=_[29],_[30]!==x||_[31]!==m?(f=(0,a.jsxs)("div",{className:"space-y-2 text-base",children:[m,x]}),_[30]=x,_[31]=m,_[32]=f):f=_[32],_[33]!==F.apiKey||_[34]!==F.baseUrl||_[35]!==F.customOption||_[36]!==F.fetchingModels||_[37]!==F.model||_[38]!==F.modelPlaceholder||_[39]!==F.presetNotice||_[40]!==R||_[41]!==q||_[42]!==T||_[43]!==U?(y=q?(0,a.jsx)("div",{className:"space-y-2 text-base rounded-xl border border-dashed border-border dark:border-border-dark bg-wash dark:bg-wash-dark px-4 py-3",children:(0,a.jsx)("p",{className:"text-sm text-secondary dark:text-secondary-dark",children:F.presetNotice})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2 text-base",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold",children:F.baseUrl}),(0,a.jsx)("input",{value:R.baseUrl,onChange:e=>D({...R,baseUrl:e.target.value}),className:"w-full rounded-xl border border-border dark:border-border-dark bg-wash dark:bg-wash-dark px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary text-base",placeholder:"https://api.openai.com/v1"})]}),(0,a.jsxs)("div",{className:"space-y-2 text-base",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold",children:F.apiKey}),(0,a.jsx)("input",{value:R.apiKey,onChange:e=>D({...R,apiKey:e.target.value}),className:"w-full rounded-xl border border-border dark:border-border-dark bg-wash dark:bg-wash-dark px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary text-base",placeholder:"sk-...",type:"password"})]}),(0,a.jsxs)("div",{className:"space-y-2 text-base",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold",children:F.model}),(0,a.jsx)(ep.l6,{value:R.model,disabled:T,placeholder:F.modelPlaceholder,options:(U.length?U:[R.model||F.customOption]).map(eE),onValueChange:e=>D({...R,model:e})}),T?(0,a.jsx)("p",{className:"text-xs text-secondary dark:text-secondary-dark",children:F.fetchingModels}):null]})]}),_[33]=F.apiKey,_[34]=F.baseUrl,_[35]=F.customOption,_[36]=F.fetchingModels,_[37]=F.model,_[38]=F.modelPlaceholder,_[39]=F.presetNotice,_[40]=R,_[41]=q,_[42]=T,_[43]=U,_[44]=y):y=_[44],_[45]!==f||_[46]!==y?(b=(0,a.jsxs)("div",{className:"grid gap-4",children:[f,y]}),_[45]=f,_[46]=y,_[47]=b):b=_[47],_[48]!==R||_[49]!==L?(v=()=>L(R),_[48]=R,_[49]=L,_[50]=v):v=_[50],_[51]!==F.save||_[52]!==v?(k=(0,a.jsx)("button",{onClick:v,className:"flex-1 py-3 rounded-full bg-link text-white dark:bg-brand-dark font-bold hover:bg-opacity-80 active:scale-[.98] transition shadow-secondary-button-stroke",children:F.save}),_[51]=F.save,_[52]=v,_[53]=k):k=_[53],_[54]===Symbol.for("react.memo_cache_sentinel")?(w=()=>D(eh),_[54]=w):w=_[54],_[55]!==F.reset?(j=(0,a.jsx)("button",{onClick:w,className:"px-4 py-3 rounded-full text-primary dark:text-primary-dark shadow-secondary-button-stroke dark:shadow-secondary-button-stroke-dark hover:bg-gray-40/5 active:bg-gray-40/10 hover:dark:bg-gray-60/5 active:dark:bg-gray-60/10 font-bold",children:F.reset}),_[55]=F.reset,_[56]=j):j=_[56],_[57]!==F.cancel||_[58]!==O?(N=(0,a.jsx)("button",{onClick:O,className:"px-4 py-3 rounded-full text-primary dark:text-primary-dark shadow-secondary-button-stroke dark:shadow-secondary-button-stroke-dark hover:bg-gray-40/5 active:bg-gray-40/10 hover:dark:bg-gray-60/5 active:dark:bg-gray-60/10 font-bold",children:F.cancel}),_[57]=F.cancel,_[58]=O,_[59]=N):N=_[59],_[60]!==k||_[61]!==j||_[62]!==N?(C=(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[k,j,N]}),_[60]=k,_[61]=j,_[62]=N,_[63]=C):C=_[63],_[64]!==b||_[65]!==C||_[66]!==p?(S=(0,a.jsx)(eu,{containerClassName:"items-start justify-center pt-14",className:"w-full max-w-4xl bg-white dark:bg-gray-900 border border-border dark:border-border-dark shadow-2xl rounded-3xl px-10 py-7 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[p,b,C]})}),_[64]=b,_[65]=C,_[66]=p,_[67]=S):S=_[67],_[68]!==P||_[69]!==S||_[70]!==u?(I=(0,a.jsx)(K,{open:P,onOpenChange:u,children:S}),_[68]=P,_[69]=S,_[70]=u,_[71]=I):I=_[71],I}function eE(e){return{value:e,label:e}}function eL(e){return{value:e.value,label:(0,a.jsxs)("span",{className:"inline-flex items-center gap-2",children:[e.logo?(0,a.jsx)(f(),{src:e.logo,alt:e.label,width:16,height:16,className:"object-contain"}):null,e.label]})}}var eR=t(6374),eD=t(6651),eU=t(7462),eK=t(3599),eM=t(2155),eT=t(5784);let ez={"zh-CN":{tabPreview:"预览",tabSyntax:"语法",copyImage:"复制图片",generating:"生成中...",empty:"输入提示语以生成信息图语法",copyImageHint:"已复制图片"},"en-US":{tabPreview:"Preview",tabSyntax:"Syntax",copyImage:"Copy image",generating:"Generating...",empty:"Enter a prompt to generate infographic syntax",copyImageHint:"Image copied"}};function eq(e){let r,t,o,i,s,u,p,m,h,g,x,f,y,b,v,k,w,j,N,C,S,I=(0,n.c)(53),{activeTab:_,onTabChange:P,isGenerating:O,editorValue:A,previewKind:E,jsonPreview:L,fallbackSyntax:R,onEditorChange:D,error:U,onCopy:K,onRenderError:M,panelClassName:T}=e,z=(0,d.useRef)(null),q=R||"",F="syntax"===E,B=A.trim(),G=F?A||q:A,W=F?B.length>0||O?A:q:L,J=(0,c.K)(ez);I[0]!==K||I[1]!==J.copyImageHint?(r=async()=>{var e;(await (null==(e=z.current)?void 0:e.copyToClipboard())||0)&&K&&K(J.copyImageHint)},I[0]=K,I[1]=J.copyImageHint,I[2]=r):r=I[2];let V=r;I[3]!==P?(o=()=>P("preview"),I[3]=P,I[4]=o):o=I[4];let H="inline-flex items-center justify-center h-7 w-7 rounded-full ".concat("preview"===_?"bg-link text-white shadow-sm":"bg-[#ebecef] hover:bg-[#d3d7de] text-tertiary dark:text-tertiary-dark dark:bg-gray-70 dark:hover:bg-gray-60");I[5]!==J.tabPreview?(i=(0,a.jsx)("span",{className:"sr-only",children:J.tabPreview}),I[5]=J.tabPreview,I[6]=i):i=I[6],I[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)("svg",{"aria-hidden":"true",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12Z",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.6"})]}),I[7]=s):s=I[7],I[8]!==o||I[9]!==H||I[10]!==i?(u=(0,a.jsxs)("button",{onClick:o,className:H,children:[i,s]}),I[8]=o,I[9]=H,I[10]=i,I[11]=u):u=I[11],I[12]!==P?(p=()=>P("syntax"),I[12]=P,I[13]=p):p=I[13];let Z="inline-flex items-center justify-center h-7 w-7 rounded-full ".concat("syntax"===_?"bg-link text-white shadow-sm":"bg-[#ebecef] hover:bg-[#d3d7de] text-tertiary dark:text-tertiary-dark dark:bg-gray-70 dark:hover:bg-gray-60");I[14]!==J.tabSyntax?(m=(0,a.jsx)("span",{className:"sr-only",children:J.tabSyntax}),I[14]=J.tabSyntax,I[15]=m):m=I[15],I[16]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)(eR.o,{className:"h-4 w-4","aria-hidden":"true"}),I[16]=h):h=I[16],I[17]!==Z||I[18]!==m||I[19]!==p?(g=(0,a.jsxs)("button",{onClick:p,className:Z,children:[m,h]}),I[17]=Z,I[18]=m,I[19]=p,I[20]=g):g=I[20],I[21]!==J.copyImage?(x=(0,a.jsx)("span",{className:"sr-only",children:J.copyImage}),I[21]=J.copyImage,I[22]=x):x=I[22],I[23]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(eD.b,{className:"h-4 w-4","aria-hidden":"true"}),I[23]=f):f=I[23],I[24]!==V||I[25]!==x?(y=(0,a.jsxs)("button",{onClick:V,className:"inline-flex items-center justify-center h-7 w-7 rounded-full bg-[#ebecef] hover:bg-[#d3d7de] text-tertiary dark:text-tertiary-dark dark:bg-gray-70 dark:hover:bg-gray-60",children:[x,f]}),I[24]=V,I[25]=x,I[26]=y):y=I[26],I[27]!==g||I[28]!==y||I[29]!==u?(b=(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs px-2",children:[u,g,y]}),I[27]=g,I[28]=y,I[29]=u,I[30]=b):b=I[30],t=b,I[31]===Symbol.for("react.memo_cache_sentinel")?(v={opacity:0,y:24},k={opacity:1,y:0},w={duration:.45,ease:"easeOut"},I[31]=v,I[32]=k,I[33]=w):(v=I[31],k=I[32],w=I[33]);let $="rounded-2xl border border-border dark:border-border-dark bg-card dark:bg-card-dark shadow-nav dark:shadow-nav-dark overflow-hidden flex flex-col ".concat(void 0===T?"min-h-[520px] h-[640px] max-h-[75vh]":T),X="preview"===_?J.tabPreview:J.tabSyntax,Y=U||null;return I[34]===Symbol.for("react.memo_cache_sentinel")?(j={gridTemplateRows:"1fr"},I[34]=j):j=I[34],I[35]!==_||I[36]!==G||I[37]!==O||I[38]!==D||I[39]!==M||I[40]!==E||I[41]!==J.empty||I[42]!==J.generating||I[43]!==W?(N=(0,a.jsx)("div",{className:"pt-14 h-full flex flex-col bg-wash dark:bg-wash-dark",children:(0,a.jsx)("div",{className:"relative flex-1 min-h-[400px] grid",style:j,children:(0,a.jsx)(eT.N,{mode:"wait",initial:!1,children:"preview"===_?(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.35,ease:"easeOut"},className:"relative bg-gradient-to-br from-card to-wash dark:from-gray-90 dark:to-gray-95 overflow-hidden rounded-b-2xl",children:[(0,a.jsx)(eT.N,{children:O&&(0,a.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-black/70 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-link dark:border-link-dark"}),(0,a.jsx)("p",{className:"text-sm text-secondary dark:text-secondary-dark font-medium",children:J.generating})]})},"loading")}),(0,a.jsx)("div",{className:"relative h-full w-full p-4 lg:p-6",children:W?(0,a.jsx)(eU.v,{ref:z,options:W,onError:e=>null==M?void 0:M(e?e.message:null)}):(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center rounded-xl border border-dashed border-border dark:border-border-dark",children:(0,a.jsx)("p",{className:"text-sm text-tertiary dark:text-tertiary-dark",children:J.empty})})})]},"preview"):(0,a.jsx)(l.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.35,ease:"easeOut"},className:"relative bg-card dark:bg-card-dark border-t border-border dark:border-border-dark rounded-b-2xl overflow-hidden",children:(0,a.jsx)(eM.B,{ariaLabel:"Infographic input",className:"h-full overflow-auto",language:"json"===E?"json":"yaml",value:G,readOnly:"syntax"===E&&O,onChange:e=>{"syntax"===E&&O||D(e)}})},"syntax")})})}),I[35]=_,I[36]=G,I[37]=O,I[38]=D,I[39]=M,I[40]=E,I[41]=J.empty,I[42]=J.generating,I[43]=W,I[44]=N):N=I[44],I[45]!==t||I[46]!==X||I[47]!==Y||I[48]!==N?(C=(0,a.jsx)(eK.N,{domain:"",path:X,hasRefresh:!0,error:Y,hideDefaultActions:!0,toolbarContent:t,children:N}),I[45]=t,I[46]=X,I[47]=Y,I[48]=N,I[49]=C):C=I[49],I[50]!==$||I[51]!==C?(S=(0,a.jsx)(l.P.div,{layout:!0,initial:v,animate:k,transition:w,className:$,children:C}),I[50]=$,I[51]=C,I[52]=S):S=I[52],S}let eF={"zh-CN":{pending:"待输入",metaTitle:"AI 生成信息图",hero:{title:"AI",highlight:"Infographic",description:"将你在日常写作、汇报或其他文字工作中遇到的内容粘贴到这里，AI 会理解语境并为你生成相匹配的信息图方案"},workspaceLabel:"AI 工作区",preview:{tabPreview:"预览",tabSyntax:"语法",copyImage:"复制图片",generating:"生成中...",empty:"输入提示语以生成信息图语法"},notifications:{copyImage:"已复制图片"},errors:{requestIncomplete:"请求未完成",noOutput:"未接收到模型输出",noModel:"模型未返回内容",generationFailed:"生成失败，请检查网络或稍后重试。",jsonParse:"JSON 解析失败"},examples:[{title:"\uD83C\uDFAF 产品生命周期管理",text:"产品从导入期到成长期，销量快速攀升，市场份额从5%增长至25%。成熟期达到峰值40%后保持稳定。衰退期开始下滑至15%。通过在成长期加大营销投入，成熟期优化成本结构，衰退期及时推出升级产品，实现平稳过渡。"},{title:"\uD83D\uDCB0 客户价值分层",text:"将客户分为四个层级：VIP客户占比5%但贡献45%营收，高价值客户占15%贡献30%营收，普通客户占30%贡献20%营收，低价值客户占50%仅贡献5%营收。针对不同层级制定差异化服务策略，重点维护高价值客群，激活潜力客户。"},{title:"\uD83C\uDF0D 全球市场布局进展",text:"2020年聚焦亚太市场，营收占比60%。2021年拓展欧洲市场，占比提升至25%。2022年进军北美，三大市场形成均衡格局，分别为40%、30%、25%。2023年新兴市场突破，拉美和中东合计贡献15%，全球化布局初步完成。"}],fallbackSyntax:"infographic list-row-horizontal-icon-arrow\ndata\n  title 客户增长引擎\n  desc 多渠道触达与复购提升\n  items\n    - label 线索获取\n      value 18.6\n      desc 渠道投放与内容获客\n      icon mdi/rocket-launch\n    - label 转化提效\n      value 12.4\n      desc 线索评分与自动跟进\n      icon mdi/progress-check\n    - label 复购提升\n      value 9.8\n      desc 会员体系与权益运营\n      icon mdi/account-sync\n    - label 产品增长\n      value 10.2\n      desc 试用转化与功能引导\n      icon mdi/chart-line"},"en-US":{pending:"Pending input",metaTitle:"AI Infographic",hero:{title:"AI",highlight:"Infographic",description:"Paste content from writing, reporting, or any text task and AI will understand the context and output an infographic plan."},workspaceLabel:"AI Workspace",preview:{tabPreview:"Preview",tabSyntax:"Syntax",copyImage:"Copy image",generating:"Generating...",empty:"Enter a prompt to generate infographic syntax"},notifications:{copyImage:"Image copied"},errors:{requestIncomplete:"Request was not completed",noOutput:"No model output received",noModel:"The model did not return content",generationFailed:"Generation failed. Check the network or try again later.",jsonParse:"JSON parse error"},examples:[{title:"\uD83C\uDFAF Product Lifecycle Management",text:"From introduction to growth phase, sales rapidly increased and market share grew from 5% to 25%. During maturity, it peaked at 40% and remained stable. In the decline phase, it dropped to 15%. By increasing marketing investment during growth, optimizing cost structure during maturity, and timely launching upgraded products during decline, a smooth transition was achieved."},{title:"\uD83D\uDCB0 Customer Value Segmentation",text:"Customers are divided into four tiers: VIP customers account for 5% but contribute 45% of revenue, high-value customers 15% contribute 30% of revenue, regular customers 30% contribute 20% of revenue, and low-value customers 50% contribute only 5% of revenue. Differentiated service strategies are developed for different tiers, focusing on maintaining high-value customer groups and activating potential customers."},{title:"\uD83C\uDF0D Global Market Expansion",text:"In 2020, focused on the Asia-Pacific market, accounting for 60% of revenue. In 2021, expanded to the European market, increasing to 25%. In 2022, entered North America, forming a balanced pattern across three major markets at 40%, 30%, and 25% respectively. In 2023, emerging markets broke through, with Latin America and the Middle East contributing a combined 15%, completing the initial globalization layout."}],fallbackSyntax:"infographic list-row-horizontal-icon-arrow\ndata\n  title Customer Growth Engine\n  desc Multi-channel reach and retention\n  items\n    - label Lead Acquisition\n      value 18.6\n      desc Paid media and content marketing\n      icon mdi/rocket-launch\n    - label Conversion Boost\n      value 12.4\n      desc Lead scoring with automated follow-ups\n      icon mdi/progress-check\n    - label Loyalty Growth\n      value 9.8\n      desc Membership programs and benefits\n      icon mdi/account-sync\n    - label Product Growth\n      value 10.2\n      desc Trial conversion and feature onboarding\n      icon mdi/chart-line"}},eB=()=>{try{if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID()}catch(e){}return"id-".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2))},eG=(e,r)=>e.length>18?"".concat(e.slice(0,18),"…"):e||r,eW=(e,r)=>({id:e.id,text:e.text,status:e.status,error:e.error,syntax:e.syntax,config:e.config,title:eG(e.text,r)});function eJ(){let e=(0,s.useRouter)(),r=(0,c.K)(eF),t=r.hero,n=r.workspaceLabel,p=r.examples,m=r.fallbackSyntax,h=r.metaTitle,[x,f]=(0,d.useState)(""),[y,b]=(0,d.useState)([]),[v,k]=(0,d.useState)(eh),[w,j]=(0,d.useState)({[eh.provider]:eh}),[N,C]=(0,d.useState)(!1),[S,I]=(0,d.useState)(!1),[_,P]=(0,d.useState)(""),[O,A]=(0,d.useState)("syntax"),[E,L]=(0,d.useState)(null),[R,D]=(0,d.useState)(null),[U,K]=(0,d.useState)("preview"),[M,T]=(0,d.useState)(!1),[z,q]=(0,d.useState)(null),F=(0,d.useRef)(null),B=(0,d.useRef)(!1),G=(0,d.useRef)(!1),[W,J]=(0,d.useState)(!1),V="min-h-[520px] h-[640px] max-h-[75vh]",{message:H,show:Z}=(0,o.i)();(0,d.useEffect)(()=>{T(!0);let e=localStorage.getItem(em.config),t=localStorage.getItem(em.messages),a=localStorage.getItem(em.infographic);if(e)try{let r,t=JSON.parse(e),{configs:a,currentProvider:n}=function(e){let r={},t=e=>{if(!e||"object"!=typeof e)return;let t=eV(e.provider)?e.provider:void 0,a=function(e,r){let t=((null==e?void 0:e.provider)&&eV(e.provider)?e.provider:void 0)||r||eh.provider,a=eg.find(e=>e.value===t);return{provider:t,baseUrl:(null==e?void 0:e.baseUrl)||(null==a?void 0:a.baseUrl)||"",model:(null==e?void 0:e.model)||"",apiKey:(null==e?void 0:e.apiKey)||""}}(e,t);r[a.provider]=a};return e&&"object"==typeof e&&("configs"in e&&e.configs&&"object"==typeof e.configs?Object.entries(e.configs).forEach(e=>{let[r,a]=e,n=eV(r)?r:void 0;t({...a,provider:n||void 0})}):"provider"in e&&t(e)),Object.keys(r).length||(r[eh.provider]=eh),{configs:r,currentProvider:eV(null==e?void 0:e.currentProvider)?e.currentProvider:void 0}}(t);j(a),n&&a[n]?r=n:a[eh.provider]&&(r=eh.provider);let o=r||Object.keys(a)[0]||eh.provider;k(a[o]||eh)}catch(e){j({[eh.provider]:eh}),k(eh)}if(t)try{let e=JSON.parse(t);b(((e,r)=>{if(!Array.isArray(e))return[];if(e.some(e=>e&&"object"==typeof e&&"role"in e)){var t=e,a=r;let n=[],o=null;for(let e of t)"user"===e.role?o=e:"assistant"===e.role&&o&&(n.push(eW({id:o.id,text:o.text,status:e.isError?"error":"ready",error:e.error,config:e.config&&"object"==typeof e.config?e.config:void 0},a)),o=null);return o&&n.push(eW({id:o.id,text:o.text,status:"pending"},a)),n}let n=[];for(let t of e){if(!t||"object"!=typeof t)continue;let e="string"==typeof t.text?t.text:"",a="ready"===t.status||"error"===t.status?t.status:"pending",o="string"==typeof t.syntax?t.syntax:void 0,i=t.config&&"object"==typeof t.config?t.config:void 0;n.push(eW({id:"string"==typeof t.id?t.id:eB(),text:e,status:a,error:"string"==typeof t.error?t.error:void 0,syntax:o,config:i},r))}return n})(e,r.pending))}catch(e){b([])}if(a)try{let e=JSON.parse(a);e&&"object"==typeof e&&"kind"in e&&"value"in e?"json"===e.kind&&e.value&&"object"==typeof e.value?(A("json"),L(e.value),P(ex(e.value))):"syntax"===e.kind&&"string"==typeof e.value&&(A("syntax"),L(null),P(e.value)):"string"==typeof e?(A("syntax"),L(null),P(e)):e&&"object"==typeof e&&!Array.isArray(e)&&(A("json"),L(e),P(ex(e)))}catch(e){A("syntax"),L(null),P(a)}J(!0)},[r.pending]),(0,d.useEffect)(()=>{if(!M||B.current||S||0===y.length)return;let e=y[y.length-1];"pending"===e.status&&(B.current=!0,b(t=>{let a=[...t];return a[a.length-1]={...e,status:"error",error:r.errors.requestIncomplete},a}),K("preview"))},[y,M,S,r.errors.requestIncomplete]),(0,d.useEffect)(()=>{M&&localStorage.setItem(em.config,JSON.stringify({currentProvider:v.provider,configs:w}))},[v,w,M]),(0,d.useEffect)(()=>{M&&localStorage.setItem(em.messages,JSON.stringify(y))},[y,M]),(0,d.useEffect)(()=>{M&&("json"===O&&E?localStorage.setItem(em.infographic,JSON.stringify({kind:"json",value:E})):"syntax"===O&&_?localStorage.setItem(em.infographic,JSON.stringify({kind:"syntax",value:_})):localStorage.removeItem(em.infographic))},[O,E,_,M]);let $=(0,d.useCallback)(async(e,t)=>{I(!0),b(e=>e.map(e=>e.id===t?{...e,status:"pending",error:void 0,syntax:void 0,config:void 0}:e));try{let a={provider:v.provider,baseURL:v.baseUrl.replace(/\/$/,""),apiKey:v.apiKey,model:v.model||eh.model},n="",o="";A("syntax"),L(null),P(""),D(null),K("preview"),await ev(a,[{role:"user",content:e}],e=>{e&&(n+=e,o=(e=>{if(!e)return"";let r=e.match(/```(?:[\w-]+)?\s*([\s\S]*?)```/);if(r)return(r[1]||"").replace(/^\s*[\r\n]+/,"");let t=/```(?:[\w-]+)?\s*/,a=e.match(t),n=e.search(t);return a&&-1!==n?e.slice(n+a[0].length).replace(/^\s*[\r\n]+/,""):e})(n),A("syntax"),L(null),P(o),D(null))},()=>{let e=o.trim().length>0;b(a=>a.map(a=>a.id===t?{...a,status:e?"ready":"error",error:e?void 0:r.errors.noOutput,syntax:e?o:void 0,config:e?void 0:a.config}:a)),e||D(r.errors.noModel)},e=>{let a=e.message||r.errors.generationFailed;b(e=>e.map(e=>e.id===t?{...e,status:"error",error:a,syntax:void 0}:e)),D(a)})}catch(a){let e=a instanceof Error&&a.message?a.message:r.errors.generationFailed;b(r=>r.map(r=>r.id===t?{...r,status:"error",error:e,syntax:void 0,config:void 0}:r)),D(e)}finally{var a;I(!1),null==(a=F.current)||a.focus()}},[v,r.errors.noOutput,r.errors.noModel,r.errors.generationFailed]),X=(0,d.useCallback)(async e=>{let t,a=(null!=e?e:x).trim();if(!a)return;let n=z&&y.some(e=>e.id===z)?z:null;if(n)t=n,b(e=>e.map(e=>e.id===n?{...e,text:a,title:eG(a,r.pending),status:"pending",error:void 0,syntax:void 0,config:void 0}:e));else{let e=eW({id:eB(),text:a,status:"pending"},r.pending);t=e.id,b(r=>[...r,e])}f(""),z&&q(null),await $(a,t)},[x,z,y,$,r.pending]);(0,d.useEffect)(()=>{if(!e.isReady||G.current||!W)return;let r=e.query.prompt,t=(Array.isArray(r)?r.join(" "):r||"").replace(/\+/g," ").trim();if(!t)return;G.current=!0,f(t),X(t);let{prompt:a,...n}=e.query;e.replace({pathname:e.pathname,query:n},void 0,{shallow:!0})},[e,e.isReady,e.query.prompt,W,X]);let Y=(0,d.useCallback)(e=>Z(e),[Z]);return(0,a.jsxs)(i.Y,{toc:[],routeTree:{title:"AI",path:"/ai",routes:[]},meta:{title:h},section:"ai",topNavOptions:{hideBrandWhenHeroVisible:!0,overlayOnHome:!0,heroAnchorId:"ai-hero-anchor"},children:[(0,a.jsxs)("div",{className:"relative isolate overflow-hidden bg-wash dark:bg-wash-dark",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute -left-32 -top-40 h-96 w-96 rounded-full bg-gradient-to-br from-link/20 via-link/5 to-transparent blur-3xl"}),(0,a.jsx)("div",{className:"pointer-events-none absolute -right-32 top-20 h-96 w-96 rounded-full bg-gradient-to-br from-purple-40/15 via-transparent to-link/5 blur-3xl"}),(0,a.jsxs)("div",{className:"relative mx-auto max-w-7xl px-5 sm:px-12 py-12 lg:py-16 flex flex-col gap-4",children:[(0,a.jsxs)(l.P.header,{id:"ai-hero-anchor",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"space-y-6",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("h1",{className:"flex items-center gap-3 text-4xl md:text-5xl lg:text-6xl font-display font-bold leading-tight text-primary dark:text-primary-dark",children:[(0,a.jsx)(u.u,{className:"w-10 h-10 md:w-12 md:h-12 text-link dark:text-link-dark"}),(0,a.jsxs)("span",{children:[t.title,(0,a.jsxs)("span",{className:"bg-gradient-to-r from-link to-purple-40 bg-clip-text text-transparent",children:[" ",t.highlight]})]})]})}),(0,a.jsx)("p",{className:"text-lg lg:text-xl text-secondary dark:text-secondary-dark leading-relaxed",children:t.description})]}),(0,a.jsxs)(l.P.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.1},className:"space-y-5",children:[(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)("p",{className:"text-sm font-medium text-tertiary dark:text-tertiary-dark",children:n})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(g,{prompt:x,onPromptChange:f,onSend:X,isGenerating:S,textareaRef:F,history:y,onSelectHistory:(e,r)=>{if(e)A("syntax"),L(null),P(e);else{if(!r)return;A("json"),L(r),P(ex(r))}D(null),K("preview")},onRetry:(e,r)=>{var t;y.find(r=>r.id===e)&&(f(r),q(e),null==(t=F.current)||t.focus())},onDelete:e=>{b(r=>r.filter(r=>r.id!==e)),z===e&&(q(null),f(""))},onOpenConfig:()=>C(!0),onClear:()=>{b([]),q(null),P(""),L(null),A("syntax"),D(null),localStorage.removeItem(em.messages),localStorage.removeItem(em.infographic)},examples:p,panelClassName:V}),(0,a.jsx)(eq,{activeTab:U,onTabChange:K,isGenerating:S,editorValue:_,previewKind:O,jsonPreview:E,fallbackSyntax:m,onEditorChange:e=>{if(P(e),"json"===O)try{let r=JSON.parse(e);L(r),D(null)}catch(e){D(e instanceof Error?e.message:r.errors.jsonParse)}else D(null)},error:R,panelClassName:V,onCopy:Y,onRenderError:D})]})]}),(0,a.jsx)(o.z,{message:H})]})]}),(0,a.jsx)(eA,{open:N,value:v,savedConfigs:w,onClose:()=>C(!1),onSave:e=>{j(r=>({...r,[e.provider]:e})),k(e),C(!1)}})]})}function eV(e){return eg.some(r=>r.value===e)}function eH(){let e,r=(0,n.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(eJ,{}),r[0]=e):e=r[0],e}},5596:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/ai",function(){return t(3455)}])},6374:(e,r,t)=>{"use strict";t.d(r,{o:()=>o});var a=t(7876),n=t(7964);let o=(0,t(4232).memo)(function(e){let r,t,o=(0,n.c)(3),{className:i}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("path",{d:"M24 9L18.343 14.657L16.929 13.243L21.172 9L16.929 4.757L18.343 3.343L24 9ZM2.828 9L7.071 13.243L5.657 14.657L0 9L5.657 3.343L7.07 4.757L2.828 9ZM9.788 18H7.66L14.212 0H16.34L9.788 18Z",fill:"currentColor"}),o[0]=r):r=o[0],o[1]!==i?(t=(0,a.jsx)("svg",{className:i,width:"1.33em",height:"1em",viewBox:"0 0 24 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r}),o[1]=i,o[2]=t):t=o[2],t})},6805:(e,r,t)=>{"use strict";t.d(r,{i:()=>c,z:()=>u});var a=t(7876),n=t(7964),o=t(5039),i=t.n(o),l=t(2216),s=t(5784),d=t(4232);function c(e){let r,t,a,o,i,l=(0,n.c)(8),s=void 0===e?1500:e,[c,u]=(0,d.useState)(null),p=(0,d.useRef)(null);l[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{p.current&&(clearTimeout(p.current),p.current=null),u(null)},l[0]=r):r=l[0];let m=r;l[1]!==s?(t=e=>{p.current&&clearTimeout(p.current),u(e),p.current=setTimeout(()=>u(null),s)},l[1]=s,l[2]=t):t=l[2];let h=t;return l[3]===Symbol.for("react.memo_cache_sentinel")?(a=()=>()=>{p.current&&clearTimeout(p.current)},o=[],l[3]=a,l[4]=o):(a=l[3],o=l[4]),(0,d.useEffect)(a,o),l[5]!==c||l[6]!==h?(i={message:c,show:h,clear:m},l[5]=c,l[6]=h,l[7]=i):i=l[7],i}function u(e){let r,t,o=(0,n.c)(5),{message:d,className:c}=e;return o[0]!==c||o[1]!==d?(r=d?(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{duration:.25},className:i()("fixed bottom-8 right-8 rounded-full bg-link dark:bg-link-dark text-white px-5 py-2.5 shadow-lg font-medium text-sm",c),children:["✓ ",d]}):null,o[0]=c,o[1]=d,o[2]=r):r=o[2],o[3]!==r?(t=(0,a.jsx)(s.N,{children:r}),o[3]=r,o[4]=t):t=o[4],t}}},e=>{e.O(0,[474],()=>{e.E(781),e.E(892)},5),e.O(0,[212,344,899,550,593,255,792],()=>e(e.s=5596)),_N_E=e.O()}]);